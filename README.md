# 三井住友信託銀行自動入金ツール

三井住友信託銀行から第一生命NEOBANKおよびVNEOBANKへ毎月入金するのを自動化しました。<br>

## 使い方

### 0. 三井住友信託ダイレクトでの事前準備

スクリプトの実施前に事前に振込先のNEOBANKの口座を三井住友信託ダイレクトに登録する必要があります。<br>
三井住友信託ダイレクトの登録口座リストの一番上に表示されるよう第一生命支店の口座を登録してください。<br>
Vポイント支店の口座宛に振り込む場合、三井住友信託ダイレクトの登録口座リストの<br>
上から2番目に位置するよう口座登録してください。


### 1. ソースコードをクローン

```
git clone https://github.com/Konosuke-Kishi/smtb_to_neobank.git
```

### 2. ChromeDriverをインストール

下記URLから、あなたが使用しているGoogle Chromeのバージョンと一致する<br>
ChromeDriverをインストールしてください。<br>

https://chromedriver.chromium.org/downloads

インストールした後は、クローンしたソースコード群と同階層に移動させてください。<br>
そして、main.pyを開いて、下記コードにChromeDriverのパスを入力してください。

```
 # webdriver準備
service = Service(executable_path="ChromeDriverのパス")
```

### 3. クレデンシャル情報設定

config.pyを開いて、各種クレデンシャル情報を入力してください。<br>

```
CONFIG = {
    'userId': '123-4567890',　#三井住友信託ダイレクトの会員番号
    'password': 'sbisec_password',　#三井住友信託ダイレクトのログインパスワード
    'amountOfMoney': 10000, #振込1回あたりの入金金額
}
```

### 4. 確認番号設定

script.jsを開いて、三井住友信託ダイレクトの確認番号表の数字を<br>
設定してください。<br>

```
const numberCard = new Map([
        ['A-1', '01'],　#A-1の欄に記載されている番号
        ['A-2', '02'],　#A-2の欄に記載されている番号
        ['A-3', '03'],　#A-3の欄に記載されている番号
        ['A-4', '04'],　#A-4の欄に記載されている番号
        ['A-5', '05'],　#A-5の欄に記載されている番号
        ['B-1', '06'],　#B-1の欄に記載されている番号
        ['B-2', '07'],　#B-2の欄に記載されている番号・・・
        
        ## 途中省略 ##

        ['E-5', '25'],　#E-5の欄に記載されている番号まで設定する
    ]);
```

### 5. 準備完了！

これで、スクリプトの準備が完了しました。

デフォルト（引数を指定しない場合）では、第一生命支店の口座宛に振り込みを実行します。<br>
Vポイント支店の口座宛に振り込む場合、下記コマンドを実行してください。

```
# VNEOBANKの場合
python3 main.py t
```

### ※振り込み回数の指定

初期状態では、振り込み回数が25回で指定されており、1度の実行で25回連続振り込みします。<br>
リランなどで振り込み回数を指定したい場合はaction.pyの下記数字を変更ください。

```
# VNEOBANKの場合
if args[1] == "t":
    for i in range(0, 25):　#25を任意の振込回数に変える

# 上記以外（第一生命支店）の場合
else:
    for i in range(0, 25):　#25を任意の振込回数に変える
```

### ※ヘッドレスモード

初期状態では、ヘッドレスモードで起動します。<br>
もし、Google ChromeのGUIで起動したい場合は、main.pyのヘッドレス設定を<br>
下記コードに変更してください。

```
## ヘッドレス設定
service = Service(executable_path="ChromeDriverのパス")
driver = webdriver.Chrome(service=service, options=options)
```
